<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>Thanh toán Ngân hàng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <%- include('partials/header') %>
        <div class="container py-5 text-center">
            <h3>Quét mã QR để thanh toán ngân hàng</h3>
            <img src="<%= qrImageUrl %>" alt="QR Code ngân hàng" style="max-width: 300px; margin: 20px auto;">
            <p><strong>Mã đơn hàng:</strong>
                <%= orderId %>
            </p>
            <p>Vui lòng quét mã QR bằng app ngân hàng hoặc app quét QR để thanh toán.</p>
            <a href="/" class="btn btn-primary mt-3">Về trang chủ</a>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const paymentRadios = document.querySelectorAll('input[name="paymentMethod"]');
                const cartBox = document.querySelector('.cart-box-selector'); // thay selector đúng phần giỏ hàng

                function toggleCartVisibility() {
                    const selected = [...paymentRadios].find(r => r.checked)?.value;
                    if (selected === 'VNPAY' || selected === 'BANK') {
                        cartBox.style.display = 'none';
                    } else {
                        cartBox.style.display = 'block';
                    }
                }

                paymentRadios.forEach(radio => {
                    radio.addEventListener('change', toggleCartVisibility);
                });

                toggleCartVisibility();
            });
        </script>

        <%- include('partials/footer') %>
</body>

</html>